#include <stdio.h>
#include <string.h>
#include "../src/smacs.h"

#define HOME ""
#define APP_DIR ""
#define TTF ""
#define FALLBACK_TTF ""
#define HOMESCREEN "resources/homescreen"
#define PATH_LEN 1024

int main(int argc, char **argv)
{
    char ttf_path[PATH_LEN], fallback_ttf_path[PATH_LEN], file_path[PATH_LEN];

    if (argc == 2) {
        size_t len = strlen(argv[1]);
        memcpy(file_path, argv[1], len);
        file_path[len] = '\0';
    } else {
        snprintf(file_path, PATH_LEN, "%s/%s", APP_DIR, HOMESCREEN);
    }

    snprintf(ttf_path, PATH_LEN, "%s/%s", APP_DIR, TTF);
    snprintf(fallback_ttf_path, PATH_LEN, "%s/%s", APP_DIR, FALLBACK_TTF);
    return smacs_launch(HOME, ttf_path, fallback_ttf_path, file_path);
}
